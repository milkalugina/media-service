<% set_meta_tags title: 'Дела', description: 'Дела и проекты для волонтеров Добрых дел'%>
<% set_meta_tags og: {title: ['Дела']}  %>


<p id="notice"><%= notice %></p>
<div>
    <%= react_component 'P_Cases' %>
</div>
<div>
    <%= react_component 'S_Footer' %>
</div> -->

<div class="events">
<h2>Все сферы</h2>

<%= link_to "Reset", events_path %>
<br>
<br>

<% Sphere.all.each do |sphere| %>
  <%= link_to sphere.name, request.params.merge(sphere: sphere.id)  %>
<% end %> <br>

<h2>Все навыки</h2>
<% Skill.all.each do |skill| %>
  <%= link_to skill.name, request.params.merge(skill: skill.id)  %>
<% end %>

<h2>Все типы</h2>
<% Type.all.each do |type| %>
  <%= link_to type.name, request.params.merge(type: type.id)  %>
<% end %>


<table>
  <thead>
    <tr>
      <th>Название</th>
      <th>Сфера</th>
      <th>Навык</th>
      <th>Тип дела</th>
      <th>Длительность</th>
      <th>Краткое описание</th>
      <th>Детали</th>
      <th>План</th>
      <th>Об организаторе</th>
      <th>Фотография</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>

    <br>
    <br>

    <%= link_to 'Новая сфера', new_sphere_path %>
    <br>
    <%= link_to 'Новый навык', new_skill_path %>
    <br>
    <%= link_to 'Новый тип дела', new_type_path %>
    <br>
    <br>

    <% @events.each do |event| %>
      <tr>
        <td><%= event.title %></td>
        <td><%= event.sphere.name %></td>
        <td><%= event.skill.name %></td>
        <td><%= event.type.name %></td>
        <td><%= event.duration %></td>
        <td><%= event.description %></td>
        <td><%= event.details %></td>
        <td><%= event.plan %></td>
        <td><%= event.organizer %></td>
        <td><%= event.image %></td>
        <td><%= link_to 'Показать', event %></td>
        <td><%= link_to 'Редактировать', edit_event_path(event) %></td>
        <td><%= link_to 'Удалить', event, method: :delete, data: { confirm: 'Вы уверенны?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Новое доброе дело', new_event_path %>
</div>
